 // Step counting with ultra-sensitive detection
  let stepCount = 0;
  const stepCountDisplay = document.getElementById('step-count');
  let lastAcceleration = { x: 0, y: 0, z: 0 };
  let lastTime = Date.now();

  window.addEventListener('devicemotion', handleMotion);

  function handleMotion(event) {
    const currentAcceleration = event.accelerationIncludingGravity;
    const now = Date.now();
    const timeElapsed = now - lastTime;

    // Calculate the magnitude of acceleration change
    const accelerationChange = {
      x: currentAcceleration.x - lastAcceleration.x,
      y: currentAcceleration.y - lastAcceleration.y,
      z: currentAcceleration.z - lastAcceleration.z
    };
    const changeMagnitude = Math.sqrt(accelerationChange.x**2 + accelerationChange.y**2 + accelerationChange.z**2);

    console.log('Change Magnitude:', changeMagnitude); // Log for debugging

    const changeThreshold = 0.1; // Extremely sensitive threshold
    const minTimeBetweenSteps = 100; // Very short time to detect rapid steps

    if (changeMagnitude > changeThreshold && timeElapsed > minTimeBetweenSteps) {
      stepCount++;
      stepCountDisplay.textContent = stepCount;
      lastTime = now;
    }

    lastAcceleration = currentAcceleration; // Update lastAcceleration to current values
  }
